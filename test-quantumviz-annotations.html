<!--
@license
Copyright (c) 2014 Horacio "LostInBrittany" Gonzalez
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
-->
<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>warp10-quantumviz demo</title>

  <style>
    body {
      background-color: #eeeeee;
    }
    .current-value {
      padding-left:100px;
    }
    /*
    .container {
      display: inline-block;
      border: 1px solid #444;
      padding:10px;
      border-radius: 10px;
      margin: 20px;
    }
    */

  </style>
  <script src=" ../webcomponentsjs/webcomponents.js"></script>
  <link   rel="import" href=" ../polymer/polymer.html">
  <link   rel="import" href=" ../warp10-quantumviz/warp10-quantumviz.html">

  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
</head>
<body>

  <h1>Quantumviz</h1>


<template is="dom-bind">

  <style>

  </style>

  <div class="container">

    <warp10-quantumviz
      width="800" height="400"
      show-axis="true"  tooltip="true" line-width="2" reload="0"
      current-values={{current}}
      host="https://warp.cityzendata.net/dist/api/v0"
      time-bounds={{bounds}} >
NOW '_NOW' STORE
51.40 '_BASE_LAT' STORE
0.00 '_BASE_LON' STORE
<% 10000000 * $_NOW SWAP - %> 'getTimestamp' STORE
<% 10.0 / 2 * PI * SIN 0.1 * $_BASE_LAT + %> 'getLat' STORE
<% -0.01 * $_BASE_LON + %> 'getLon' STORE
<% 10.0 / 2 * PI * COS 10 * %> 'getValue' STORE
<%
  'i' STORE
  $i @getTimestamp
  $i @getLat
  $i @getLon
  1000
  $i @getValue
  ADDVALUE
%> 'generateGts' STORE

NEWGTS
1 10 $generateGts FOR

NEWGTS
$_NOW 10000000 - 51.50 -0.10 NaN 10 ADDVALUE
$_NOW 20000000 - 51.46 -0.09 NaN 9 ADDVALUE
$_NOW 30000000 - 51.42 -0.08 NaN 8 ADDVALUE
$_NOW 40000000 - 51.40 -0.07 NaN 7 ADDVALUE
$_NOW 50000000 - 51.44 -0.06 NaN 6 ADDVALUE
$_NOW 60000000 - 51.48 -0.05 NaN 8 ADDVALUE
$_NOW 70000000 - 51.50 -0.03 NaN 10 ADDVALUE
$_NOW 80000000 - 51.52 -0.02 NaN 9 ADDVALUE
$_NOW 90000000 - 51.54 -0.01 NaN 8 ADDVALUE
$_NOW 100000000 - 51.56 -0.00 NaN 9  ADDVALUE

2 ->LIST
'gts' STORE


NEWGTS
$_NOW 10000000 - 51.50 -0.10 NaN 'a' ADDVALUE
$_NOW 30000000 - 51.42 -0.08 NaN 'b' ADDVALUE
$_NOW 50000000 - 51.44 -0.06 NaN 'c' ADDVALUE
$_NOW 70000000 - 51.50 -0.03 NaN 'd' ADDVALUE
$_NOW 90000000 - 51.54 -0.01 NaN 'e' ADDVALUE

NEWGTS
$_NOW 20000000 - 51.46 -0.09 NaN true ADDVALUE
$_NOW 40000000 - 51.40 -0.07 NaN true ADDVALUE
$_NOW 60000000 - 51.48 -0.05 NaN true ADDVALUE
$_NOW 80000000 - 51.52 -0.02 NaN false ADDVALUE
$_NOW 100000000 - 51.56 -0.00 NaN false ADDVALUE

2 ->LIST
'annotations' STORE

$gts $annotations APPEND 'gts' STORE

'color' '#001f3f'
'key' 'Temperature A'
4 ->MAP
'color' '#0074D9'
'key' 'Temperature B'
4 ->MAP
'color' '#7FDBFF'
'key' 'Annotation 1'
4 ->MAP
'color' '#39CCCC'
'key' 'Annotation 2'
4 ->MAP

4 ->LIST
'params' STORE

'interpolate' 'linear'
2 ->MAP
'globalParams' STORE

'gts' $gts
'params' $params
'globalParams' $globalParams
'annotations' $annotations
8 ->MAP
    </warp10-quantumviz>

    <template is="dom-if" if="{{current}}">
        <div class="current_value">
          <b>Current values:
        <br/>
          x: <span>{{current.xValue}}</span>
        <br/>
          <ul>
          <template is="dom-repeat" items="{{current.yValues}}">
            <li>
              key: <span>{{item.key}}</span>
              value: <span>{{item.value}}</span>
            </li>
          </template>
          </ul>
        </div>
    </template>

  </div>
</template>

<div></div>





  <p>By <a href="http://cityzendata.com">Cityzen Data</a></p>
</body>
</html>
